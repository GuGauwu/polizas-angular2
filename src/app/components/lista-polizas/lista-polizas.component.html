<div class="container-fluid mt-3">
    <div class="card">
        <!-- Header con título y centro contable -->
        <div class="card-header bg-primary text-white">
            <div class="d-flex justify-content-between align-items-center">
                <h5 class="mb-0">MOVIMIENTOS > Pólizas</h5>
                <div class="d-flex align-items-center">
                    <label class="me-2 mb-0">Centro Contable:</label>
                    <p-dropdown [options]="centrosContables" [(ngModel)]="selectedCentro" optionLabel="nombre" 
                        [style]="{'width':'auto'}" styleClass="p-input-sm"><
                    </p-dropdown>
                </div>
            </div>
        </div>

        <!-- Filtros superiores -->
        <div class="card-body">
            <div class="row mb-3 g-2">
                <div class="col-md-2">
                    <label class="form-label">Mes Inicial</label>
                    <p-dropdown [options]="meses" [(ngModel)]="mesInicial" [style]="{'width':'100%'}"></p-dropdown>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Mes Final</label>
                    <p-dropdown [options]="meses" [(ngModel)]="mesFinal" [style]="{'width':'100%'}"></p-dropdown>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Tipo</label>
                    <p-dropdown [options]="tipos" [(ngModel)]="tipoSeleccionado" [style]="{'width':'100%'}"></p-dropdown>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Status</label>
                    <p-dropdown [options]="status" [(ngModel)]="statusSeleccionado" [style]="{'width':'100%'}"></p-dropdown>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Tipo Captura</label>
                    <p-dropdown [options]="tiposCaptura" [(ngModel)]="tipoCapturaSeleccionado" [style]="{'width':'100%'}"></p-dropdown>
                </div>
                <div class="col-md-2">
                    <label class="form-label">Mostrar</label>
                    <p-dropdown [options]="registrosMostrar" [(ngModel)]="mostrarSeleccionado" [style]="{'width':'100%'}"></p-dropdown>
                </div>
            </div>

            <!-- Sección de Clasificación y Buscar -->
            <div class="row mb-3">
                <div class="col-md-3">
                    <label class="form-label">Clasificación</label>
                    <p-dropdown [options]="clasificaciones" [(ngModel)]="clasificacionSeleccionada" [style]="{'width':'100%'}"></p-dropdown>
                </div>
                <div class="col-md-3">
                    <label class="form-label">Buscar Póliza/Concepto</label>
                    <input pInputText type="text" class="w-100" placeholder="Ej: 04E0001">
                </div>
                <div class="col-md-2 align-self-end">
                    <button pButton type="button" label="Buscar" class="p-button-primary w-100"></button>
                </div>
                <div class="col-md-4 align-self-end text-end">
                    <button pButton type="button" label="NUEVO" icon="pi pi-plus" class="p-button-success"></button>
                </div>
            </div>

            <!-- Tabla de pólizas -->
            <div class="table-responsive">
                <p-table [value]="polizas" [paginator]="true" [rows]="5" styleClass="p-datatable-striped p-datatable-gridlines">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>CC</th>
                            <th># PÓL.</th>
                            <th>TIPO</th>
                            <th>FECHA</th>
                            <th>STATUS</th>
                            <th>CONCEPTO</th>
                            <th>CARGO</th>
                            <th>ABONO</th>
                            <th>ACCIONES</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-poliza>
                        <tr>
                            <td>{{poliza.cc}}</td>
                            <td>{{poliza.numero}}</td>
                            <td>{{poliza.tipo}}</td>
                            <td>{{poliza.fecha | date:'dd/MMM/yyyy'}}</td>
                            <td>{{poliza.status}}</td>
                            <td>{{poliza.concepto}}</td>
                            <td>{{poliza.cargo | currency}}</td>
                            <td>{{poliza.abono | currency}}</td>
                            <td class="text-nowrap">
                                <button pButton type="button" icon="pi pi-pencil" class="p-button-outlined p-button-primary p-button-sm" 
                                    title="Editar"></button>
                                <button pButton type="button" icon="pi pi-trash" class="p-button-outlined p-button-danger p-button-sm" 
                                    title="Borrar"></button>
                                <button pButton type="button" icon="pi pi-print" class="p-button-outlined p-button-info p-button-sm" 
                                    title="Imprimir"></button>
                                <button pButton type="button" icon="pi pi-file" class="p-button-outlined p-button-secondary p-button-sm" 
                                    title="Volante"></button>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>

            <!-- Buscar al final (opcional) -->
            <div class="row mt-3">
                <div class="col-md-4">
                    <input pInputText type="text" class="w-100" placeholder="Buscar...">
                </div>
            </div>
        </div>
    </div>
</div>